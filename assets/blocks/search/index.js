(()=>{"use strict";var e,t={867:(e,t,r)=>{const n=window.wp.blocks,o=window.wp.element,a=window.wp.i18n,l=JSON.parse('{"UU":"tripzzy/search","DD":"Tripzzy Search","Kk":"<svg xmlns=\'http://www.w3.org/2000/svg\' fill=\'none\' viewBox=\'0 0 24 24\'><path fill=\'#f37020\' fill-rule=\'evenodd\' d=\'M4 11a7 7 0 1 1 14 0 7 7 0 0 1-14 0Zm7-9a9 9 0 1 0 5.617 16.032l3.675 3.675a1 1 0 0 0 1.414-1.414l-3.674-3.675A9 9 0 0 0 11 2Z\' clip-rule=\'evenodd\'/></svg>","h_":"Search trips according to the provided search fields.","uK":{"blockId":{"type":"string","default":""},"fields":{"type":"array","default":[]},"layout":{"type":"string","default":"row"},"gap":{"type":"string","default":"0"},"buttonColor":{"type":"string"},"buttonColorHover":{"type":"string"},"buttonBackgroundColor":{"type":"string"},"buttonBackgroundColorHover":{"type":"string"},"searchText":{"type":"string","default":"Search"}}}'),c=(0,o.forwardRef)((function({icon:e,size:t=24,...r},n){return(0,o.cloneElement)(e,{width:t,height:t,...r,ref:n})})),i=window.React,u=window.wp.primitives,s=(0,i.createElement)(u.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(u.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})),p=(0,i.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(u.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),f=(0,i.createElement)(u.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(u.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})),m=(0,i.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(u.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})),d=window.wp.blockEditor,b=window.wp.components,y=window.wp.apiFetch;var h,v=r.n(y),g=new Uint8Array(16);function w(){if(!h&&!(h="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return h(g)}const z=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var E=[],R=0;R<256;++R)E.push((R+256).toString(16).substr(1));const C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(E[e[t+0]]+E[e[t+1]]+E[e[t+2]]+E[e[t+3]]+"-"+E[e[t+4]]+E[e[t+5]]+"-"+E[e[t+6]]+E[e[t+7]]+"-"+E[e[t+8]]+E[e[t+9]]+"-"+E[e[t+10]]+E[e[t+11]]+E[e[t+12]]+E[e[t+13]]+E[e[t+14]]+E[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&z.test(e)}(r))throw TypeError("Stringified UUID is invalid");return r},O=function(e,t,r){var n=(e=e||{}).random||(e.rng||w)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return C(n)},S=(0,i.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(u.Path,{d:"M5 5v1.5h14V5H5zm0 7.8h14v-1.5H5v1.5zM5 19h14v-1.5H5V19z"})),k=(0,i.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(u.Path,{d:"m3 5c0-1.10457.89543-2 2-2h13.5c1.1046 0 2 .89543 2 2v13.5c0 1.1046-.8954 2-2 2h-13.5c-1.10457 0-2-.8954-2-2zm2-.5h6v6.5h-6.5v-6c0-.27614.22386-.5.5-.5zm-.5 8v6c0 .2761.22386.5.5.5h6v-6.5zm8 0v6.5h6c.2761 0 .5-.2239.5-.5v-6zm0-8v6.5h6.5v-6c0-.27614-.2239-.5-.5-.5z",fillRule:"evenodd",clipRule:"evenodd"})),_=function(e){var t=e.attributes,r=e.setAttributes,n=t.layout;return React.createElement(o.Fragment,null,React.createElement(d.BlockControls,null,React.createElement(b.ToolbarGroup,null,React.createElement(b.ToolbarButton,{icon:S,className:"column"===n?"is-pressed":"",label:(0,a.__)("Display as Column","tripzzy"),onClick:function(){return r({layout:"column"})}}),React.createElement(b.ToolbarButton,{icon:k,className:"row"===n?"is-pressed":"",label:(0,a.__)("Display as Row","tripzzy"),onClick:function(){return r({layout:"row"})}}))))},x=function(e){var t=e||{},r=t.attributes,n=t.setAttributes,a=t.BlockStyles,l=t.BlockSettings;return React.createElement(o.Fragment,null,l&&React.createElement(l,{attributes:r,setAttributes:n}),a&&React.createElement(a,e))};function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const B=function(e){var t=e.attributes,r=e.setAttributes,n=t.gap,l=t.fields,c=t.searchText;return React.createElement(o.Fragment,null,React.createElement(d.InspectorControls,{group:"settings"},React.createElement(b.PanelBody,{title:(0,a.__)("Trip Search Options")},l.map((function(e,t){if("hidden"===e.type)return null;var n=e.enabled;return React.createElement(b.ToggleControl,{key:e.name,label:(0,a.__)("Show")+" ".concat(e.label),checked:n,onChange:function(){var e,o=function(e){if(Array.isArray(e))return j(e)}(e=l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();o[t].enabled=!n,r({fields:o})}})}))),React.createElement(b.PanelBody,{title:(0,a.__)("Display Settings")},React.createElement(b.__experimentalUnitControl,{min:"0",step:"1",label:(0,a.__)("Input Gap","tripzzy"),labelPosition:"top",onChange:function(e){r({gap:e})},value:n,units:{px:"px"}}),React.createElement(b.TextControl,{label:(0,a.__)("Button Text","text"),value:c,onChange:function(e){return r({searchText:e})}}))))};function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A.apply(this,arguments)}wp.i18n.__;const P=(0,d.withColors)({tzPaletteColor:"tz-palette-color"})((function(e){var t=e.label,r=e.value,n=e.setTzPaletteColor,o=e.clientId,a=e.enableAlpha,l=e.onChange,c=e.className,i=(0,d.__experimentalUseMultipleOriginColorsAndGradients)(),u=React.createElement("div",{className:"tripzzy-color-gradient-settings-dropdown ".concat(null!=c?c:""),style:{gridColumn:"1 / -1"}},React.createElement(d.__experimentalColorGradientSettingsDropdown,A({settings:[{label:null!=t?t:"",colorValue:r||null,onColorChange:function(e){n(e),l(e)},resetAllFilter:function(e){n(null),l(null)}}],panelId:o,hasColorsOrGradients:!0,disableCustomColors:!1,__experimentalIsRenderedInSidebar:!0},i,{enableAlpha:a||!1,className:"tripzzy-is-hidden"})));return React.createElement(d.InspectorControls,{group:"color"},u)}));function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T.apply(this,arguments)}const I=function(e){var t=e.attributes,r=e.setAttributes,n=t.buttonColor,l=t.buttonColorHover,c=t.buttonBackgroundColor,i=t.buttonBackgroundColorHover;return React.createElement(o.Fragment,null,React.createElement(d.InspectorControls,{group:"styles"},React.createElement(P,T({},e,{label:(0,a.__)("Button Color","tripzzy"),value:n,onChange:function(e){r({buttonColor:e})}})),React.createElement(P,T({},e,{label:(0,a.__)("Button Color Hover","tripzzy"),value:l,onChange:function(e){r({buttonColorHover:e})}})),React.createElement(P,T({},e,{label:(0,a.__)("Button Background Color","tripzzy"),value:c,onChange:function(e){r({buttonBackgroundColor:e})}})),React.createElement(P,T({},e,{label:(0,a.__)("Button Background Color Hover","tripzzy"),value:i,onChange:function(e){r({buttonBackgroundColorHover:e})}}))))};function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N.apply(this,arguments)}function H(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){var n,o,a;n=e,o=t,a=r[t],o=function(e){var t=function(e,t){if("object"!=D(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==D(t)?t:String(t)}(o),o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,l,c=[],i=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw o}}return c}}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){if(e){if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var L=wp.i18n.__;var K=l.UU,$=l.Kk,Z=l.uK,J=l.DD,q=l.h_;(0,n.registerBlockType)(K,{title:J,icon:React.createElement(o.RawHTML,null,$),attributes:Z,description:q,edit:function(e){var t=e.attributes,r=e.setAttributes,n=e.isSelected,a=e.style,l=G((0,o.useState)(null),2),i=l[0],u=l[1],y=G((0,o.useState)(!1),2),h=y[0],g=y[1],w=t.blockId,z=t.fields,E=t.layout,R=t.fontSize,C=t.gap,S=t.buttonColor,k=t.buttonColorHover,j=t.buttonBackgroundColor,A=t.buttonBackgroundColorHover,P=t.searchText,T=(t.style||{}).typography,M=T?T.fontSize:"13px";(0,o.useEffect)((function(){z.length||(g(!0),v()({path:"/tripzzy-search-form/v1/get_fields"}).then((function(e){"object"===D(e)&&(e=Object.values(e)),r({fields:e}),g(!1)})).catch((function(e){console.error(e)})))}),[z.length,r]),(0,o.useEffect)((function(){w||r({blockId:O()})}),[]);var U=function(e,t,r){if("object"===D(e)){if(r>=Object.keys(e).length)for(var n=r-Object.keys(e).length+1;n--;)e.push(void 0);e.splice(r,0,e.splice(t,1)[0])}if("array"==typeof e){if(r>=e.length)for(n=r-e.length+1;n--;)e.push(void 0);e.splice(r,0,e.splice(t,1)[0])}return e},F=function(e,t){var n=z.map((function(e){return V({},e)})),o=n.findIndex((function(t){return t.name===e.name}));-1!==o&&("text"===e.type?n[o].label=t:n[o].placeholder=t,n=[].concat(H(n),H(z.filter((function(e){return"hidden"===e.type||!e.enabled})))),r({fields:n}))},K=z&&z.length?z.filter((function(e){return"hidden"!==e.type&&e.enabled})):[],$=z&&z.length?z.filter((function(e){return"hidden"===e.type||!e.enabled})):[],Z=R?"var(--wp--preset--font-size--".concat(R,")"):M,J=R?"calc( ( 50% - ( var(--wp--preset--font-size--".concat(R,") / 2 ) ) - 4px )"):"calc( (50% - (".concat(M," / 2) ) - 4px )"),q=(0,d.useBlockProps)({className:"tripzzy-admin-block tripzzy-trip-search-block ".concat("column"===E?"column-view":""," ").concat(h?"is-loading":""),style:V(V({},a),{},{"--tripzzy-search-font-size":Z,"--tripzzy-search-icon-position-top":J,"--tripzzy-search-field-gap":C,"--tripzzy-search-button-color":S,"--tripzzy-search-button-color-hover":k,"--tripzzy-search-button-background":j,"--tripzzy-search-button-background-hover":A})});return React.createElement(o.Fragment,null,n&&React.createElement(x,N({},e,{BlockSettings:B,BlockStyles:I})),n&&React.createElement(_,e),React.createElement("div",q,h&&React.createElement(b.Spinner,{style:{height:"25px",width:"25px"}}),React.createElement("div",{className:"tripzzy-trip-search"},React.createElement("div",{className:"container"},React.createElement("form",null,React.createElement("div",{className:"tripzzy-advanced-search-form"},K.map((function(e,t){var n=e.before_field?"has-before-field":"";return React.createElement("div",{key:e.name,className:"tripzzy-form-field ".concat(e.type," ").concat(n)},e.name===i&&React.createElement("div",{role:"group",className:"tripzzy-swip-items"},React.createElement(b.Button,{className:"has-icon",disabled:0===t,onClick:function(){var e=U(K,t,t-1);e=[].concat(H(e),H($)),r({fields:e})}},React.createElement(c,{icon:"column"===E?s:p})),React.createElement(b.Button,{className:"has-icon",disabled:t>=K.length-1,onClick:function(){var e=U(K,t,t+1);e=[].concat(H(e),H($)),r({fields:e})}},React.createElement(c,{icon:"column"===E?f:m}))),"text"===e.type?React.createElement(React.Fragment,null,e.before_field&&React.createElement("span",{className:"search-form-before-field"},React.createElement(o.RawHTML,null,e.before_field)),React.createElement(b.TextControl,{className:"tripzzy-base-control",value:e.label,onClick:function(){return u(e.name)},placeholder:e.placeholder,onChange:function(t){return F(e,t)}})):React.createElement(React.Fragment,null,e.before_field&&React.createElement("span",{className:"search-form-before-field"},React.createElement(o.RawHTML,null,e.before_field)),React.createElement(b.TextControl,{className:"tripzzy-base-control",value:e.placeholder,onClick:function(){return u(e.name)},onChange:function(t){return F(e,t)}})))})),React.createElement(b.Button,{onClick:function(){},className:"tz-btn tz-btn-solid tz-submit"},P||L("Search","tripzzy"))))))))},save:function(e){var t=e.attributes,r=t.css,n=t.id,o=function(e){if(r)return(e=(e=e.replace(/\s+/g," ")).replace(/\/\*[\s\S]*?\*\//g,"")).replace(/ ?([:;,{}]) ?/g,"$1")}(r);return React.createElement(React.Fragment,null,o?React.createElement("style",{type:"text/css",id:"tripzzy-block-css-".concat(n)},o):"")}})}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,r,o,a)=>{if(!r){var l=1/0;for(s=0;s<e.length;s++){for(var[r,o,a]=e[s],c=!0,i=0;i<r.length;i++)(!1&a||l>=a)&&Object.keys(n.O).every((e=>n.O[e](r[i])))?r.splice(i--,1):(c=!1,a<l&&(l=a));if(c){e.splice(s--,1);var u=o();void 0!==u&&(t=u)}}return t}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[r,o,a]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={842:0,326:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[l,c,i]=r,u=0;if(l.some((t=>0!==e[t]))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(i)var s=i(n)}for(t&&t(r);u<l.length;u++)a=l[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(s)},r=globalThis.webpackChunktripzzy=globalThis.webpackChunktripzzy||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o=n.O(void 0,[326],(()=>n(867)));o=n.O(o)})();